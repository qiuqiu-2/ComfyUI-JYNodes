# ComfyUI JYNodes - 剪映节点

## 🎯 项目简介
ComfyUI_JYNodes 是一个专为剪映设计的 ComfyUI 插件，专注于视频草稿生成。它提供了完整的剪映草稿创建功能，让您可以通过 ComfyUI 的可视化界面批量制作剪映视频草稿。

## 🆕 最新更新
- ✅ 项目重命名：统一使用 `JYNodes` 命名规范
- ✅ 节点分类：所有节点归类到「剪映节点」
- ✅ 中文优化：节点名称和参数全面中文化
- ✅ 零依赖：去除冗余依赖，使用更轻量

## ✨ 核心功能

### 🎬 媒体支持
- **图片/视频素材** - 支持带动画或无动画的媒体文件
- **背景音乐** - 添加音频轨道
- **文字字幕** - 自定义字幕内容和样式
- **视觉特效** - 剪映内置特效系统
- **转场效果** - 媒体间的平滑过渡

### 🎨 动画系统
- **入场动画** - 素材出现效果
- **出场动画** - 素材消失效果
- **持续动画** - 循环播放的动画

### 📝 时间轴控制
- 精确的时间控制（秒为单位）
- 灵活的素材组合
- 批量处理支持

## 🚀 快速开始

### 1. 安装
```bash
# 方法1：直接下载
下载本项目，解压到 ComfyUI 的 `custom_nodes/ComfyUI_JYNodes` 目录

# 方法2：git克隆
git clone [项目地址] ComfyUI/custom_nodes/ComfyUI_JYNodes
```

### 2. 依赖安装（可选）
```bash
# 大部分依赖已由ComfyUI提供，只需安装：
pip install pymediainfo requests
```

### 3. 基础工作流
```
媒体素材 → 组合节点 → 保存草稿
```

### 4. 完整工作流示例
```
1. 媒体素材 (图片/视频)
   ↓
2. 音频节点 (背景音乐)
   ↓  
3. 字幕节点 (文字内容)
   ↓
4. 动画节点 (入场/出场效果)
   ↓
5. 保存草稿 (生成.draft文件)
```

### 5. 首次使用检查清单
- ✅ 插件已放入正确目录
- ✅ 重启ComfyUI
- ✅ 在节点面板找到「剪映节点」分类
- ✅ 尝试简单工作流测试

## 📋 节点说明

| 节点类型 | 功能描述 | 中文名称 |
|---------|----------|----------|
| **JyMediaAnimation** | 带动画效果的图片/视频 | 动画媒体 |
| **JyMediaNative** | 普通图片/视频 | 媒体素材 |
| **JyAudioNative** | 音频素材 | 音频节点 |
| **JyCaptionsNative** | 文字字幕 | 字幕节点 |
| **JyEffectNative** | 视觉特效 | 特效节点 |
| **JyTransition** | 转场效果 | 转场节点 |
| **JyAnimationIn** | 入场动画 | 入场动画 |
| **JyAnimationOut** | 出场动画 | 出场动画 |
| **JyAnimationGroup** | 组合动画 | 组合动画 |
| **JySaveDraft** | 保存剪映草稿 | 保存草稿 |
| **JySaveOutDraft** | 保存并输出 | 输出草稿 |

## 🎨 动画类型
- 入场动画：淡入、滑入、缩放等
- 出场动画：淡出、滑出、缩小等  
- 组合动画：旋转、弹跳、闪烁等

## 💾 输出格式
- 生成 `.draft` 格式剪映草稿文件
- 可直接用剪映App打开继续编辑
- 支持自定义分辨率和帧率

## 📁 文件结构
```
ComfyUI_JYNodes/
├── JYNodes.py                 # 主节点注册文件
├── JYNodes.json               # 节点配置
├── py/JianYing.py            # 剪映节点实现
├── py/JianYingDraft/         # 剪映核心库
│   ├── core/                 # 核心功能模块
│   ├── utils/                # 工具函数
│   └── template/             # 模板文件
├── js/JySaveOutDraft.js      # 界面交互
├── config/translations.csv   # 翻译配置
└── README.md                 # 本文档
```

## 🎯 使用场景
- **批量视频制作** - 快速生成多个视频草稿
- **模板化内容** - 基于模板批量制作
- **社交媒体** - 为抖音、小红书等平台制作内容
- **教育培训** - 制作教学视频草稿

## 🔧 技术特点
- **零依赖** - 无需额外安装软件
- **跨平台** - 支持 Windows/Mac/Linux
- **高效** - 批量处理大量素材
- **兼容** - 完美支持剪映最新版本
- **轻量** - 精简依赖，快速启动
- **中文** - 完整中文化界面

## 📞 支持
如有问题，请检查：
1. 文件路径是否正确
2. 素材文件是否存在
3. 时间参数是否合理
4. 草稿文件是否成功生成

---
**享受高效的剪映视频制作体验！**